---
title: "Analisi dei Dati"
author: "Massimiliano Baldo, Francesco Zuccato"
date: "28/7/2021"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

## Including Plots

You can also embed plots, for example:

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

## Reperimento dei dati
Si è deciso di utilizzare alcuni file repereti da un sito opensource di dati inerenti al nostro dominio.  
In particolare il sito è [OpenFlights.org](https://openflights.org/).  
Dal sito si è deciso di usare i seguenti file:

* Airport
* Airline
* Routes
* Planes

I file originali si possono trovare all'interno della directory "old_csv".

## Pulizia dei Dati
Pur essendo che i file appena scaricati abbiano un gran numero di ammontare di dati, 
essi contengono dati non utili alla nostra analisi e soprattutto mancanza divalori in alcuni campi.  
Pertanto, si è deciso di eseguire una pulizia dei file in modo dal renderli meno pesanti ma soprattuto
consistenti.

### Preparazione Workspace
```{bash}
oldCsvPath='./old_csv/'
newCsvPath='./csv/'
```

### Aeroporti
```{bash}
file='Aeroporti.csv'

#usare ' al posto di " per le stringhe
old_file='./old_csv/'$file
new_file='./csv/'$file

cat $old_file | sed s:\':'\\'\':g | sed s:\":\':g > $new_file

#ritagliare i campi di interesse
cat $new_file | cut -d',' -f2-5 > $new_file

#rimuovere le righe che hanno ',' nel nome.. abbiamo perso il codice
cat $new_file | grep [A-Z][A-Z][A-Z]\'$ > $new_file
```

### Compagnie Aeree
```{bash}
file='compagnia_aerea_new'
ext='.csv'
i=1

#usare ' al posto di " per le stringhe
old_file=${file}${ext}
new_file=${file}'_'${i}${ext}

cat $old_file | sed s:\':'\\'\':g | sed s:\":\':g >$new_file

i=$(($i + 1))

#ritagliare i campi di interesse
old_file=$new_file
new_file=${file}'_'${i}${ext}

cat $old_file | cut -d',' -f2 >$new_file

i=$(($i + 1))

#rimuovere le righe che hanno ',' nel nome.. abbiamo perso il codice
old_file=$new_file
new_file=${file}'_'${i}${ext}

cat $old_file | grep \'$ >$new_file

i=$(($i + 1))
```

### Tratte
```{bash}
file='tratta_new'
ext='.csv'
i=1

#usare ' al posto di " per le stringhe
old_file=${file}${ext}
new_file=${file}'_'${i}${ext}

cat $old_file | sed s:\':'\\'\':g | sed s:\":\':g >$new_file

i=$(($i + 1))

#ritagliare i campi di interesse
old_file=$new_file
new_file=${file}'_'${i}${ext}

cat $old_file | cut -d',' -f3,5 >$new_file

i=$(($i + 1))

#rimuovere le righe che hanno ',' nel nome.. abbiamo perso il codice
old_file=$new_file
new_file=${file}'_'${i}${ext}

cat $old_file | grep ^[A-Z][A-Z][A-Z],[A-Z][A-Z][A-Z]$ >$new_file

i=$(($i + 1)
```


## Creazione di Dati Casuali
















